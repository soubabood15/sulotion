<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>اعتذارات وهولد</title>
<style>
  body {
    margin: 0;
    font-family: "Cairo", sans-serif;
    background: linear-gradient(120deg,#e1ecff,#f5f8ff);
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: start;
    min-height: 100vh;
    padding: 40px;
    gap: 40px;
    overflow-x: hidden;
  }
  h2{
    text-align:center;
    margin-bottom:10px;
    color:#285eff;
  }
  .section {
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 8px 25px rgba(0,0,0,.08);
    padding: 24px;
    width: 430px;
    transition: all .4s ease;
    animation: fadeIn .8s ease;
  }
  @keyframes fadeIn {from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:none}}
  button {
    background: linear-gradient(45deg,#4b8cff,#72a9ff);
    border: none;
    color: white;
    padding: 10px 18px;
    border-radius: 10px;
    font-size: 15px;
    cursor: pointer;
    transition: .3s;
  }
  button:hover { transform: scale(1.05); background: linear-gradient(45deg,#3f7eff,#609dff); }
  .box {
    margin-top:14px;
    display: flex;
    justify-content: space-between;
    gap:10px;
  }
  .msg {
    background:#f3f7ff;
    border:1px solid #d8e5ff;
    border-radius:10px;
    padding:12px;
    flex:1;
    cursor:pointer;
    transition:.2s;
    min-height:90px;
    overflow-y:auto;
  }
  .msg:hover { background:#e9f1ff; }
  .popup {
    position: fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    background:#fff;
    border-radius:14px;
    box-shadow:0 8px 25px rgba(0,0,0,.2);
    padding:30px 40px;
    text-align:center;
    z-index:999;
    animation: pop .5s ease;
  }
  @keyframes pop {from{opacity:0;transform:translate(-50%,-60%)}to{opacity:1;transform:translate(-50%,-50%)}}
  .hidden{display:none;}
  .popup button{margin-top:20px;}
  .calc-box {
  display: flex;
  flex-direction: column;
  gap: 14px;
}
.calc-box input {
  padding: 12px;
  font-size: 16px;
  border-radius: 10px;
  border: 1px solid #c9dafd;
  outline: none;
  text-align: center;
  transition: .3s;
}
.calc-box input:focus {
  border-color: #5b8def;
  box-shadow: 0 0 0 3px #5b8def22;
}
.calc-buttons {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
  gap: 10px;
}
.calc-result {
  background: #f3f7ff;
  border-radius: 10px;
  padding: 10px;
  font-weight: bold;
  text-align: center;
  border: 1px solid #e1e9ff;
}
.grid {
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: 12px 16px;
  align-items: center;
}
.call-box {
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 8px;
  background: #fff;
  color: #000;
  direction: ltr;
}
.actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 16px;
}
.btn {
  cursor: pointer;
  border: 1px solid #222;
  border-radius: 10px;
  padding: 10px 14px;
}
.btn.primary {
  background: #285eff;
  color: #fff;
  border: none;
}
textarea#output {
  width: 100%;
  min-height: 160px;
  resize: none;
  white-space: pre-wrap;
  border: 1px solid #c9dafd;
  border-radius: 10px;
  margin-top: 10px;
  padding: 10px;
}
.divider {
  margin: 20px 0;
  border: none;
  border-top: 1px solid #d8e5ff;
}

.solution {
  margin-top: 10px;
}

.solution-grid {
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: 10px 14px;
  align-items: center;
}

.solution-grid label {
  font-weight: 600;
  color: #285eff;
}

.solution-grid select,
.solution-grid input {
  padding: 8px;
  border: 1px solid #c9dafd;
  border-radius: 8px;
  font-size: 14px;
  outline: none;
}

.solution-grid select:focus,
.solution-grid input:focus {
  border-color: #5b8def;
  box-shadow: 0 0 0 2px #5b8def33;
}

.solution textarea {
  width: 100%;
  margin-top: 12px;
  min-height: 90px;
  resize: none;
  border: 1px solid #c9dafd;
  border-radius: 10px;
  padding: 8px;
}
</style>
</head>
<body>
<script>
const currentVersion = "v2.5"; // ← كل ما تعدل الموقع غيّر الرقم فقط
const lastVersion = localStorage.getItem("siteVersion");

if (lastVersion && lastVersion !== currentVersion) {
  showUpdateNotice();
  setTimeout(() => location.reload(true), 1500);
}

localStorage.setItem("siteVersion", currentVersion);

function showUpdateNotice() {
  const notice = document.createElement("div");
  notice.textContent = "🔄 تم تحديث الموقع إلى أحدث إصدار...";
  Object.assign(notice.style, {
    position: "fixed",
    bottom: "20px",
    right: "20px",
    background: "rgba(255,255,255,0.25)",
    backdropFilter: "blur(12px)",
    border: "1px solid rgba(255,255,255,0.4)",
    color: "#285eff",
    padding: "12px 20px",
    borderRadius: "14px",
    fontFamily: "Cairo, sans-serif",
    fontSize: "15px",
    fontWeight: "600",
    boxShadow: "0 4px 25px rgba(0,0,0,0.2)",
    zIndex: "999999",
    opacity: "0",
    transition: "opacity .6s ease"
  });
  document.body.appendChild(notice);
  setTimeout(() => (notice.style.opacity = "1"), 50);
  setTimeout(() => {
    notice.style.opacity = "0";
    setTimeout(() => notice.remove(), 600);
  }, 2500);
}
</script>
<!-- القسم الأيمن -->
<div class="section" id="apology">
  <h2>قسم الاعتذارات</h2>

  <h3>الاعتذارات الطويلة</h3>
  <button onclick="generate('longApology')">توليد اعتذار طويل</button>
  <div class="box">
    <div class="msg" id="longAr" onclick="copyText('longAr')"></div>
    <div class="msg" id="longEn" onclick="copyText('longEn')"></div>
  </div>

 

<!-- القسم الأيسر -->
<div class="section" id="hold">
  <h2>قسم الهولد</h2>
  <button onclick="generate('hold')">توليد هولد</button>
  <div class="box">
    <div class="msg" id="holdAr" onclick="copyText('holdAr')"></div>
    <div class="msg" id="holdEn" onclick="copyText('holdEn')"></div>
  </div>
  <!-- قسم السولوشن -->
  <div class="card">
    <h2>قسم السولوشن (Scenario 1)</h2>
    <div class="grid">
     <!-- 🧩 Call Line -->
<label for="callType">Call line</label>
<select id="callType" onchange="toggleCallInput()">
  <option value="none">اختر نوع المكالمة</option>
  <option value="noneed">No need</option>
  <option value="merchant">Merchant</option>
  <option value="rider">Rider</option>
</select>

<!-- هذا الحقل يظهر فقط إذا اختار Merchant أو Rider -->
<div id="callResultBox" style="display:none; grid-column: 1 / span 2;">
  <label for="callResult">Call Result</label>
  <input id="callResult" type="text" placeholder="اكتب نتيجة المكالمة هنا" />
</div>

      <label for="riskLabel">Case Solution Risk Label</label>
      <select id="riskLabel">
        <option value="0">0RC</option>
        <option value="1">1RC</option>
        <option value="2">2RC</option>
        <option value="3">3RC</option>
        <option value="3>">3RC></option>
      </select>

      <label for="evidence">Evidence</label>
      <select id="evidence">
        <option value="Clear" selected>Clear</option>
        <option value="Unclear">Unclear</option>
      </select>

      <label for="receipt">Receipt</label>
      <select id="receipt">
        <option value="yes">yes</option>
        <option value="no">no</option>
        <option value="need">need</option>
      </select>
       
      <label for="refund">Refund ( قيمة الطلب لو مافي اتركها فاضيه)</label>
      <input id="refund" type="text" inputmode="decimal" placeholder="حط الرقم بس" />

      <label for="compensation">Compensation (قيمة التعويض لو مافي اتركها فاضيه)</label>
      <input id="compensation" type="text" inputmode="decimal" placeholder="اكتب المبلغ أو اتركها فاضية" />
    </div>

    <div class="actions">
      <button class="btn primary" id="build">صنع الحل</button>
      <button class="btn" id="clear">مسح</button>
    </div>

    <textarea id="output" readonly placeholder="بس تخلص اضغط علي"></textarea>
    <div class="hint">كبسه على الحقل ينسخ كلشي</div>
  </div>
</div> 
</div>
 <div class="card">
    <h2>الآلة الحاسبة</h2>
    <div class="calc-box">
      <input id="calcInput" type="number" placeholder="أدخل الرقم" />
      <div class="calc-buttons">
        <button onclick="calc(0.8)">Main dish</button>
        <button onclick="calc(0.6)">Side dish</button>
        <button onclick="calc(0.3)"> Drink</button>
        <button onclick="calc(0.1)">Cutlery</button>
      </div>
      <div id="calcResult" class="calc-result">النتيجة: —</div>
    </div>
  </div>
  
<!-- popup -->
<div id="popup" class="popup hidden">
  <p id="popupMsg"></p>
  <button onclick="resetLists()">🔄 توليد من البداية</button>
</div>

<script>
const longApology = [
  {ar:`نعتذر من أعماق قلبنا عن أي إزعاج قد تسببت به تجربتك، ونحن نقدر تماماً مشاعرك. نحن نأخذ ملاحظاتك بكل جدية ونعمل جاهدين على نقلها إلى المطعم لتحسين الخدمة وتقديم الأفضل دائمًا. هدفنا هو أن نمنحك تجربة استثنائية تتناسب مع توقعاتك وتفوقها في المستقبل. نحن نسعى دائماً لإرضائك، ونتمنى أن نتمكن من استعادة ثقتك الغالية فينا. شكراً لك على دعمك وصبرك، وسنواصل العمل بجد ليكون مستوى تجربتك القادمة أفضل إن شاء الله.`, en:`We sincerely apologize for any inconvenience your experience may have caused, and we deeply value your feelings. We take your feedback very seriously and are working hard to pass it on to the restaurant to improve the service and provide the best at all times. Our aim is to offer you an exceptional experience that meets and exceeds your expectations in the future. We always strive to satisfy you, and we hope to regain your valuable trust in us. Thank you for your support and patience, and we will continue working hard so that your next experience will be at a better level, God willing.`},
  {ar:` نعتذر بصدق عن أي إزعاج قد تسببت به تجربتك معنا، ونقدر ملاحظاتك التي تساعدنا في التحسين. سيتم نقلها إلى المطعم للمساهمة في تقديم خدمة أفضل إن شاء الله. هدفنا هو أن نمنحك تجربة مميزة، ونسعى جاهدين لاستعادة ثقتك بنا. شكرًا لصبرك ودعمك، ونتطلع إلى خدمتك مجددًا بتجربة أفضل.`, en:`We sincerely apologize for any inconvenience your experience with us may have caused, and we truly value your feedback that helps us improve. It will be shared with the restaurant to contribute to providing better service, God willing. Our aim is to offer you a special experience that exceeds your expectations, and we strive to regain your trust. Thank you for your patience and support, and we look forward to serving you again with an even better experience.`},
  {ar:`نأسف لعدم تلبية توقعاتك هذه المرة، ونشكرك على إبلاغنا بملاحظاتك. نأخذ كل الملاحظات على محمل الجد ونعمل على تحسين خدماتنا باستمرار. نأمل أن تمنحنا فرصة أخرى لنقدم لك تجربة تفوق تطلعاتك في المستقبل. `, en:` We truly apologize if your experience did not meet your expectations. Customer satisfaction is at the heart of what we do, and we are constantly working on refining our service. We hope to have the opportunity to serve you again under better circumstances.`},
  {ar:`نحن آسفون لأن تجربتك لم تكن بالمستوى الذي نطمح إليه. نقدر ملاحظاتك ونعمل باستمرار على تطوير الخدمة. شكراً على تفهمك، ونتمنى أن نراك قريبًا بتجربة أكثر تميزًا`, en:`We are sorry that your experience was not at the level we strive for. We appreciate your feedback and continuously work on improving our service. Thank you for your understanding, and we hope to see you again soon with a more distinguished experience. `},
  {ar:` نعتذر من أعماق قلبنا عن أي إزعاج قد تسببت به تجربتك، ونحن نقدر تماماً مشاعرك. نحن نأخذ ملاحظاتك بكل جدية ونعمل جاهدين على نقلها إلى المطعم لتحسين الخدمة وتقديم الأفضل دائمًا. هدفنا هو أن نمنحك تجربة استثنائية تتناسب مع توقعاتك وتفوقها في المستقبل ان شاء الله.

`, en:`We sincerely apologize from the bottom of our hearts for any inconvenience your experience may have caused, and we truly value your feelings. We take your feedback very seriously and are working diligently to share it with the restaurant to improve the service and always deliver the best. Our goal is to provide you with an exceptional experience that meets and, God willing, exceeds your expectations in the future.

 `},
  {ar:`بنعتذر من حضرتك عميلنا العزيز نحن ملتزمون تماماً لإرضائك، ونتمنى أن نتمكن من استعادة ثقتك الغالية فينا. شكراً لك على دعمك وصبرك، وسنحرص على العمل بجد لتكون تجربتك القادمة أفضل ان شاء الله.

 `, en:`We sincerely apologize to you, our valued customer. We are fully committed to your satisfaction and hope to regain your precious trust in us. Thank you for your support and patience, and we promise to keep working hard to ensure that, God willing, your next experience will be much better.

 `},
  {ar:`اؤكد بأنني متفهم استياء حضرتك على التجربة الغير مرضية ونحن نقدم لك كامل الاعتذار، لقد تم أخذ ملاحظتك بعين الاعتبار، بتمنى تقبل اعتذارنا و ان لا يعكس أي انطباع سلبي. سنعمل على تحسين الخدمة بإذن الله عز وجل لك في المرات القادمة

 `, en:` We sincerely apologize for any inconvenience or disappointment you have encountered. We appreciate the time you took to share your feedback, as it helps us enhance our service. We hope to have the opportunity to serve you better in the future.

`},
  {ar:`نأسف لأن تجربتك لم تكن كما توقعت، فنحن نحرص على تقديم الأفضل دائمًا. ملاحظاتك ستساعدنا في التحسين، وسنسعى جاهدين لإرضائك. شكرًا لدعمك، ونتمنى أن تكون تجربتك القادمة أكثر راحة وسعادة.

 `, en:` We are sorry that your experience was not as you expected, as we always strive to provide the best. Your feedback will help us improve, and we will do our best to satisfy you. Thank you for your support, and we hope your next experience will be more comfortable and enjoyable.

`},
  {ar:`نعتذر عن أي إزعاج قد تسببت به هذه التجربة، فهدفنا هو تقديم خدمة ترضيك بالكامل. نحن نأخذ ملاحظاتك على محمل الجد ونعمل على تحسين الجودة باستمرار. شكراً لتفهمك، وسنبذل جهدنا لجعل تجربتك القادمة أكثر إرضاءً.

 `, en:` We are truly sorry for any disappointment you may have felt. Your experience is important to us, and we are implementing necessary improvements to prevent any recurrence of this issue. Thank you for your feedback and for allowing us the chance to enhance our service.

`},
  {ar:` نأسف لأي إزعاج قد واجهته، ونشكرك على ملاحظاتك القيمة. نحن نأخذ رضاك بجدية ونعمل باستمرار على تحسين مستوى الخدمة. نأمل أن تمنحنا فرصة أخرى لنقدم لك تجربة أفضل في المستقبل.

`, en:`We regret that your experience did not reflect the high standards we strive for. Please rest assured that we are working hard to prevent similar occurrences in the future. We greatly appreciate your understanding and the opportunity to make things better.

 `},
  {ar:`نعتذر عن أي تقصير حدث، ونتفهم أهمية تجربتك معنا. نحن نأخذ ملاحظاتك بعين الاعتبار لتحسين خدماتنا. شكراً لدعمك، ونسعى جاهدين لإرضائك مستقبلاً.

 `, en:` We apologize for any shortcomings and understand the importance of your experience with us. We take your feedback into account to improve our services. Thank you for your support, and we will strive to satisfy you in the future.

`},
  {ar:`نحن نأسف لأي تجربة غير مرضية، فهدفنا هو توفير خدمة ترقى إلى مستوى توقعاتك. نقدر ملاحظاتك وسنعمل على التحسين المستمر لإرضائك في المستقبل. شكراً لتفهمك، ونتمنى أن نراك قريبًا.

 `, en:` We apologize for any unsatisfactory experience, as our goal is to provide service that meets your expectations. We value your feedback and will work on continuous improvement to satisfy you in the future. Thank you for your understanding, and we hope to see you soon.

`},
  {ar:`نعتذر بصدق إذا لم تكن تجربتك بالمستوى الذي تأملته. نؤكد لك أن ملاحظاتك مهمة لنا، وسنعمل على تحسين الأمور لتكون تجربتك القادمة أفضل. نشكرك على دعمك ونتطلع إلى خدمتك مرة أخرى قريبًا.

 `, en:`We sincerely apologize if your experience was not at the level you expected. Please know that your feedback is important to us, and we will work on improving things to make your next experience better. Thank you for your support, and we look forward to serving you again soon.

 `},
  {ar:`نأسف لأي تجربة غير مرضية مررت بها. نحن ملتزمون بتقديم أفضل خدمة ممكنة وسنعمل على تحسينها بناءً على ملاحظاتك. نشكرك على ثقتك بنا ونتمنى أن نراك قريبًا بتجربة أكثر راحة وسعادة.

 `, en:` We deeply regret that we were unable to provide the seamless experience that you deserve. Please know that we are actively working to resolve any issues and ensure that future experiences meet and exceed your expectations. We truly appreciate your patience.

`},
  {ar:` نحن آسفون لأن تجربتك لم تكن بالمستوى الذي نطمح إليه. شكرًا لملاحظاتك، وهي محل اهتمامنا لتحسين جودة الخدمات. نقدر تفهمك ونتمنى أن تمنحنا فرصة لنقدم لك تجربة أفضل مستقبلاً.

`, en:` We understand that your time and satisfaction are valuable, and we apologize for any inconvenience you may have encountered. Please know that we take all feedback seriously and are continuously working to enhance our service to better meet your needs.

`},
  {ar:`نعتذر عن أي خلل قد واجهته خلال تجربتك، ونشكرك على إبلاغنا بذلك. رضاك هو أولويتنا ونسعى جاهدين لتحسين الخدمة مستقبلاً. نتمنى أن تمنحنا فرصة أخرى لنثبت لك مدى التزامنا برضاك.

 `, en:` We apologize for any issues you encountered during your experience, and we thank you for bringing them to our attention. Your satisfaction is our priority, and we strive to improve our service in the future. We hope you give us another opportunity to show you our commitment to your satisfaction.

`},
  {ar:` نأسف لأي تقصير قد حدث، فهدفنا هو توفير تجربة مثالية لعملائنا. نحن نعمل بجد لتحسين الخدمة بناءً على ملاحظاتك. شكراً لصبرك، ونتمنى أن تكون تجربتك القادمة أكثر راحة ان شاء الله.

`, en:`We apologize for any shortcomings that may have occurred, as our goal is to provide an ideal experience for our customers. We are working hard to improve the service based on your feedback. Thank you for your patience, and we hope your next experience will be more comfortable.

 `},
  {ar:`نعتذر بصدق عن أي إزعاج حدث خلال طلبك، فنحن نسعى دائمًا لتقديم الأفضل. ملاحظاتك محل اهتمامنا، وسنسعى لتحسين التجربة لإرضائك مستقبلاً. شكراً لدعمك، ونتمنى أن نراك قريبًا.

 `, en:` We sincerely apologize for any inconvenience during your order, as we always strive to provide the best. Your feedback is important to us, and we will work to improve the experience to satisfy you in the future. Thank you for your support, and we hope to see you soon.

`},
  {ar:`نأسف لأن تجربتك لم تكن كما توقعت، وسنعمل على تحسين خدماتنا لتفادي تكرار ذلك إن شاء الله. شكراً لوقتك وثقتك بنا، وسنسعى جاهدين لتقديم تجربة مرضية لك مستقبلاً.

 `, en:`We are sorry that your experience was not as you expected, and we will work on improving our services to prevent this from happening again, God willing. Thank you for your time and trust in us, and we will strive to provide you with a satisfactory experience in the future.

 `},
  {ar:`نعتذر عن أي تجربة غير مرضية قد مررت بها، ونعمل على تحسين الخدمة بناءً على ملاحظاتك. نشكرك على تفهمك، و سنحرص على أن تكون تجربتك القادمة أكثر راحة.

 `, en:`  We’re truly sorry for any inconvenience caused. We understand this wasn’t ideal and are committed to improving your experience next time. Thank you for trusting us.

`},
  {ar:`نعتذر عن أي تقصير قد واجهته، وسنعمل على تحسين خدماتنا لإرضائك قدر الإمكان. شكراً لك على ملاحظاتك القيمة، ونتمنى أن تمنحنا فرصة أخرى لخدمتك بشكل أفضل.

 `, en:` We apologize for any shortcomings you may have experienced, and we will work on improving our services to satisfy you as much as possible. Thank you for your valuable feedback, and we hope you give us another opportunity to serve you better.

`},
  {ar:`نأسف لأي إزعاج قد سبّبته تجربتك معنا، وسنسعى بتحسين الخدمة لتكون على مستوى توقعاتك. نشكر لك تفهمك، ونتمنى أن نراك مجددًا في تجربة أكثر راحة وسعادة.

 `, en:` We are truly sorry that your recent order did not go as expected. Your trust is important to us, and we are dedicated to improving our service based on your valuable feedback. Please accept our apologies, and we hope to provide you with a much smoother experience in the future.

`},
  {ar:` نحن نأسف لأي قصور قد حدث أثناء تجربتك، وندرك تمامًا مدى أهمية تقديم خدمة مميزة تلبي تطلعاتك. رضاك هو حجر الأساس الذي نبني عليه خدماتنا، ولذلك فإننا نأخذ جميع الملاحظات على محمل الجد ونعمل جاهدين على تحسين التجربة لتقديم مستوى عالٍ من الجودة مستقبلاً. نشكر لك تفهمك وثقتك بنا، ونسعى باستمرار لجعل كل تجربة لك معنا أفضل من السابقة.

`, en:` We are sorry for any shortcomings you may have experienced, and we fully recognize the importance of providing outstanding service that meets your expectations. Your satisfaction is the foundation upon which we build our services, which is why we take all feedback seriously and work hard to improve the experience to deliver a high level of quality in the future. Thank you for your understanding and trust, and we continuously strive to make each experience with us better than the last.

`},
  {ar:`نأسف بشدة لأي تجربة غير مرضية قد واجهتها، ونتفهم تمامًا مدى الإحباط الذي قد تشعر به عند عدم الحصول على الخدمة بالمستوى المتوقع. نحن نعمل بجد لتحسين الجودة والاستجابة السريعة للملاحظات الخاصة بعملائنا، وسنسعى جاهدين لجعل تجربتك القادمة أكثر سلاسة وراحة. نشكرك على تفهمك، ونتطلع إلى خدمتك قريبًا بطريقة تليق بثقتك بنا.

 `, en:` We deeply regret any unsatisfactory experience you may have had, and we fully understand the frustration of not receiving service at the expected level. We are working hard to improve quality and respond promptly to our customers’ feedback, and we will strive to make your next experience smoother and more comfortable. Thank you for your understanding, and we look forward to serving you soon in a manner worthy of your trust.

`},
  {ar:`نتفهم تمامًا أنك كنت تتوقع تجربة أفضل، ونحن نأسف لأننا لم نرتقِ إلى مستوى تطلعاتك هذه المرة. نقدّر صبرك وملاحظاتك التي تساعدنا على التطوير، ونعمل بلا توقف لتحسين الخدمة لتكون أكثر سلاسة وجودة إن شاء الله. نأمل أن تمنحنا فرصة أخرى لنثبت لك أننا نستحق ثقتك، ونتطلع لأن تكون تجربتك القادمة معنا أكثر راحة ورضا.

 `, en:` We fully understand that you expected a better experience, and we are sorry that we did not meet your expectations this time. We appreciate your patience and feedback, which help us improve, and we continuously work to enhance the service to make it smoother and of higher quality, God willing. We hope you give us another opportunity to show that we deserve your trust, and we look forward to your next experience with us being more comfortable and satisfying.

`},
];

const shortApology = [
 {ar:`نعتذر يا الغالي عن التجربة اللي ما كانت بالمستوى، وراح نحرص تكون القادمة أفضل بإذن الله.`, en:`We’re sorry your experience wasn’t great, we’ll make sure the next one is better insha’Allah.`},
{ar:`آسفين إذا واجهت أي إزعاج، ملاحظتك تهمنا وراح نحسن الخدمة للأفضل.`, en:`Sorry for the inconvenience — your feedback matters and we’ll improve our service.`},
{ar:`نأسف إن التجربة ما كانت مثل توقعاتك، وراح نعمل على تحسينها مستقبلاً.`, en:`We’re sorry it didn’t meet your expectations, we’ll make it better next time.`},
{ar:`نعتذر عن القصور، ونتفهم ملاحظاتك وراح نطور الخدمة قريب إن شاء الله.`, en:`We apologize for the shortfall and we’ll work on improving soon, God willing.`},
{ar:`نأسف لو سبّبنا لك أي إزعاج، هدفنا دايمًا رضاك وتقديم الأفضل.`, en:`We’re sorry for any inconvenience — our goal is always your satisfaction.`},
{ar:`نعتذر منك، بنحرص نكسب رضاك ونستعيد ثقتك فينا.`, en:`Our apologies, we’ll work to regain your trust and satisfaction.`},
{ar:`نأسف على التجربة، وراح نراجع الملاحظات لضمان تحسين الخدمة.`, en:`Sorry about your experience — we’ll review your feedback to improve our service.`},
{ar:`نعتذر عن اللي صار، وراح نسعى تكون تجربتك القادمة أسهل وأفضل.`, en:`We’re sorry about what happened — we’ll make your next experience smoother.`},
{ar:`نأسف لأي تقصير، بنشتغل دايم على رفع الجودة وتطوير الخدمة.`, en:`Apologies for the shortfall — we’re constantly improving our quality.`},
{ar:`آسفين على اللي صار، وشاكرين ملاحظاتك اللي تساعدنا نتحسن.`, en:`Sorry about what happened, your feedback helps us improve.`},
{ar:`نعتذر على أي خلل، وراح نعمل على تحسين تجربتك القادمة بإذن الله.`, en:`We apologize for any issue and we’ll improve your next experience insha’Allah.`},
{ar:`نأسف على التجربة الغير مرضية، وراح نعمل على تطوير الخدمة بشكل مستمر.`, en:`Sorry for the unsatisfactory experience — we’ll keep improving our service.`},
{ar:`نعتذر إذا ما كانت التجربة بالمستوى، وراح نحسن الأمور لرضاك.`, en:`Sorry if it wasn’t as expected — we’ll make things right for you.`},
{ar:`نأسف على أي إزعاج، وراح نتابع الملاحظات لضمان الأفضل.`, en:`Apologies for any inconvenience — we’ll follow up to ensure better service.`},
{ar:`نعتذر عن التقصير، وملاحظتك بتفيدنا في تحسين الخدمة أكثر.`, en:`Sorry for any shortcomings — your feedback helps us get better.`},
{ar:`آسفين على التجربة، وشكرًا لتفهمك وثقتك.`, en:`Sorry about the experience, and thank you for your understanding and trust.`},
{ar:`نعتذر إذا واجهت مشكلة، ونعمل نتأكد إنها ما تتكرر.`, en:`We’re sorry for the issue and will make sure it doesn’t happen again.`},
{ar:`نأسف لأي قصور، وبنحرص تكون المرات الجاية مرضية لك أكثر.`, en:`Apologies for any shortfall — we’ll make sure next time is better.`},
{ar:`نعتذر عن الإزعاج، وملاحظتك محل اهتمام الفريق.`, en:`Sorry for the inconvenience — your feedback is being reviewed by the team.`},
{ar:`نأسف إذا التجربة ما كانت بالمستوى، ونتمنى فرصة نعوضك فيها.`, en:`We’re sorry it wasn’t up to standards — we hope to make it up to you.`},
{ar:`نعتذر عن أي تقصير، وراح نطور الأداء بناءً على ملاحظتك.`, en:`We apologize for any shortfall — we’ll improve our performance accordingly.`},
{ar:`نأسف لو الخدمة ما كانت ترضيك، وراح نحرص تكون الجاية أريح وأسرع.`, en:`Sorry if the service wasn’t satisfying — we’ll make it smoother next time.`},
{ar:`نعتذر على التجربة الغير مرضية، وهدفنا نخدمك بشكل أفضل الجاية.`, en:`Sorry for the disappointing experience — our goal is to serve you better next time.`},
{ar:`نأسف لأي خلل صار، ونعمل على تحسين التجربة القادمة.`, en:`We’re sorry for any issue, and we’ll enhance your next experience.`},
{ar:`نعتذر على اللي حصل، وثقتك تهمنا ونسعى نحافظ عليها.`, en:`Apologies for what happened — your trust matters and we’ll keep it.`},
{ar:`نأسف إن التجربة ما كانت مثالية، ووعدنا لك إن الجاية تكون أفضل بإذن الله.`, en:`Sorry the experience wasn’t perfect — we promise the next one will be better, God willing.`}
];

const hold = [
{ar:`أحتاج دقيقة أتأكد لك من التفاصيل وأرجع لك فورًا، شاكر صبرك.`, en:`I just need a minute to confirm the details and I’ll be right back, thank you for your patience.`},
{ar:`بس دقيقة أتأكد من الطلب بالنظام وبتحدثك مباشرة بعد ما أخلص.`, en:`Give me a minute to check your order in the system, I’ll update you right after.`},
{ar:`راح أحتاج دقيقة أراجع الحالة بدقة وأرجع لك بالتحديث.`, en:`I’ll take a minute to review the case carefully and get back to you with an update.`},
{ar:`دقيقة فقط أتأكد أن كل شيء واضح وأبلغك بالنتيجة.`, en:`Just a minute to make sure everything is clear, then I’ll let you know the result.`},
{ar:`لحظة بسيطة أتأكد من التحديث الأخير وبتواصل معك فورًا.`, en:`One short moment to confirm the latest update and I’ll get back to you right away.`},
{ar:`أحتاج دقيقة أشيّك على الملاحظات عشان أقدر أساعدك بدقة.`, en:`I need a minute to review the notes so I can assist you accurately.`},
{ar:`دقيقة بس أتأكد من البيانات وأرجع لك بالرد النهائي.`, en:`Just a minute to double-check the information and I’ll get back to you with the final response.`},
{ar:`راح أراجع الطلب دقيقة وحدة وأحدثك بأول ما أخلص.`, en:`I’ll review the request for one minute and update you as soon as I’m done.`},
{ar:`أحتاج دقيقة إضافية أتأكد من النظام عشان أقدّم لك أدق معلومة.`, en:`I need an extra minute to check the system and provide you with the most accurate info.`},
{ar:`دقيقة فقط أتأكد من الإجراء المطلوب وبتواصل معك بعدها مباشرة.`, en:`Just a minute to confirm the required action, I’ll contact you right after.`},
{ar:`اسمح لي دقيقة أشيّك على التفاصيل عشان أتأكد من كل نقطة.`, en:`Allow me one minute to review the details and make sure everything is correct.`},
{ar:`راح أحتاج دقيقة بسيطة أتأكد فيها من حالة الطلب بالنظام.`, en:`I’ll need a short minute to check the order status in the system.`},
{ar:`دقيقة فقط أراجع البيانات المطلوبة وبتواصل معك بعدها فورًا.`, en:`Just a minute to review the needed data and I’ll reach back out immediately after.`},
{ar:`أحتاج دقيقة أتأكد من التحديث وأعطيك الرد الأكيد بعدها.`, en:`I need one minute to verify the update and I’ll give you the confirmed answer right after.`},
{ar:`دقيقة بس أتأكد أن الإجراء تم بالطريقة الصحيحة وراح أبلغك.`, en:`Just a minute to make sure the action went through correctly and I’ll let you know.`}
];

let used = {longApology:[], shortApology:[], hold:[]};

function generate(type){
  let list = eval(type);
  let remain = list.filter((_,i)=>!used[type].includes(i));
  if(remain.length===0){
    document.getElementById('popup').classList.remove('hidden');
    document.getElementById('popupMsg').textContent = `🎉 تم عرض كل ${type==='hold'?'الهولد':'الاعتذارات'}، يمكنك البدء من جديد.`;
    return;
  }
  let randomIndex = Math.floor(Math.random()*remain.length);
  let idx = list.indexOf(remain[randomIndex]);
  used[type].push(idx);
  if(type==='hold'){
    showText('holdAr','holdEn',list[idx]);
  }else if(type==='shortApology'){
    showText('shortAr','shortEn',list[idx]);
  }else{
    showText('longAr','longEn',list[idx]);
  }
}

function showText(idAr,idEn,obj){
  document.getElementById(idAr).textContent=obj.ar;
  document.getElementById(idEn).textContent=obj.en;
}

function copyText(id){
  const el=document.getElementById(id);
  navigator.clipboard.writeText(el.textContent);
  el.style.background="#d8ecff";
  setTimeout(()=>el.style.background="#f3f7ff",400);
}

function resetLists(){
  used={longApology:[], shortApology:[], hold:[]};
  document.getElementById('popup').classList.add('hidden');
}
function calc(rate){
  const input = document.getElementById('calcInput').value;
  const result = document.getElementById('calcResult');
  if(!input || isNaN(input)){
    result.textContent = 'الرجاء إدخال رقم صالح';
    return;
  }
  const total = (input * rate).toFixed(2);
  result.textContent = `النتيجة: ${total}`;
}
  const el = (id) => document.getElementById(id);
const CALL_LINE = "Call merchant ,call results ; needed Restaurant admitted the mistake";
const COMP_LINE = "no Compensation";

function isNumericOrEmpty(v) {
  if (!v) return true;
  return /^-?\d+(\.\d+)?$/.test(v.trim());
}

function buildTemplate() {
  const risk       = el('riskLabel').value;
  const evidence   = el('evidence').value;
  const receipt    = el('receipt').value;
  const callType   = el('callType').value;
  const callResult = (el('callResult').value || '').trim();
  let refund       = (el('refund').value || '').trim();
  let compensation = (el('compensation').value || '').trim();

  if (!isNumericOrEmpty(refund)) {
    alert('حقل Refund يجب أن يحتوي رقمًا فقط أو يترك فارغًا.');
    el('refund').focus();
    return;
  }
  if (!isNumericOrEmpty(compensation)) {
    alert('حقل Compensation يجب أن يحتوي رقمًا فقط أو يترك فارغًا.');
    el('compensation').focus();
    return;
  }

  if (!refund) refund = "no refund";
  if (!compensation) compensation = "no compensation";

  // بناء نص الكول لاين
  let callLine = "";
  if (callType === "noneed") {
    callLine = "Call merchant/Rider , Call result : No need";
  } else if (callType === "merchant") {
    if (!callResult) {
      alert("اكتب نتيجة المكالمة مع التاجر.");
      return;
    }
    callLine = `Call merchant , Call result : ${callResult}`;
  } else if (callType === "rider") {
    if (!callResult) {
      alert("اكتب نتيجة المكالمة مع السائق.");
      return;
    }
    callLine = `Call rider , Call result : ${callResult}`;
  } else {
    alert("اختَر نوع المكالمة أولاً.");
    return;
  }

  const lines = [
    `Call line: ${callLine}`,
    `Case Solution Risk Label: (${risk})RC`,
    `Evidence: ${evidence}`,
    `Receipt: ${receipt}`,
    `Refund: (${refund}) refund`,
    `Compensation: (${compensation}) compensation`
  ];

  el('output').value = lines.join("\n");
}

function clearAll() {
  el('riskLabel').value = '0';
  el('evidence').value = 'Clear';
  el('receipt').value = 'yes';
  el('refund').value = '';
  el('output').value = '';
}

el('output').addEventListener('click', () => {
  el('output').select();
  document.execCommand('copy');
  alert("✔ تم النسخ بنجاح");
});

el('build').addEventListener('click', buildTemplate);
el('clear').addEventListener('click', clearAll);
function toggleCallInput(){
  const callType = el('callType').value;
  const box = document.getElementById('callResultBox');
  if(callType === "merchant" || callType === "rider"){
    box.style.display = "grid";
  } else {
    box.style.display = "none";
    el('callResult').value = "";
  }
}
</script>

</body>
</html>
