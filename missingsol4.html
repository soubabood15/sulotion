<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØµÙØ­Ø©</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;700&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Cairo', sans-serif;
  background: linear-gradient(120deg,#eef3ff,#f7faff);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: start;
  min-height: 100vh;
  padding: 30px 15px;
  color: #222;
  transition: 0.4s;
}

h1 {
  color: #285eff;
  text-align: center;
}

form {
  background: #fff;
  border: 1px solid #d8e5ff;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.08);
  padding: 20px;
  max-width: 420px;
  width: 100%;
  text-align: center;
  margin-top: 20px;
}

input, textarea {
  width: 100%;
  padding: 10px;
  margin: 8px 0;
  border-radius: 8px;
  border: 1px solid #c9dafd;
  font-family: 'Cairo', sans-serif;
  font-size: 15px;
  resize: none;
}

button {
  background: #285eff;
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 10px 18px;
  cursor: pointer;
  font-size: 15px;
  transition: 0.3s;
}
button:hover { background: #174de0; transform: scale(1.03); }

/* ğŸŒŸ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù†Ø¬ÙˆÙ… */
.stars {
  display: flex;
  justify-content: center;
  margin: 10px 0;
}
.star {
  font-size: 26px;
  color: #ccc;
  cursor: pointer;
  transition: color 0.3s;
}
.star.active { color: #FFD700; }

/* ğŸŒ™ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ */
.dark {
  background: #1b1b1b;
  color: #eee;
}
.dark form {
  background: #222;
  border: 1px solid #444;
  box-shadow: none;
}
.dark input, .dark textarea {
  background: #333;
  border: 1px solid #555;
  color: #eee;
}
.dark button { background: #00b36b; }

/* âœ… Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ */
#successMsg {
  display: none;
  background: #d4ffe1;
  border: 1px solid #8ff0b4;
  color: #006b3f;
  border-radius: 10px;
  padding: 10px;
  margin-top: 15px;
}
</style>
</head>
<body>

<h1>ğŸ“ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØµÙØ­Ø©</h1>

<button onclick="toggleDarkMode()" style="
  position: fixed;
  top: 15px;
  left: 15px;
  background: none;
  border: 2px solid #285eff;
  border-radius: 50%;
  color: #285eff;
  width: 45px;
  height: 45px;
  cursor: pointer;
  font-size: 20px;
">ğŸŒ™</button>

<form id="feedbackForm" method="POST">
  <input type="text" name="name" placeholder="Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ±ÙŠÙ…" required>

  <div class="stars">
    <span class="star" onclick="setRating(1)">â˜…</span>
    <span class="star" onclick="setRating(2)">â˜…</span>
    <span class="star" onclick="setRating(3)">â˜…</span>
    <span class="star" onclick="setRating(4)">â˜…</span>
    <span class="star" onclick="setRating(5)">â˜…</span>
  </div>
  <input type="hidden" name="rating" id="rating" value="0">

  <textarea name="feedback" rows="4" placeholder="Ø§ÙƒØªØ¨ Ø±Ø£ÙŠÙƒ Ø£Ùˆ Ø§Ù‚ØªØ±Ø§Ø­Ùƒ Ù‡Ù†Ø§..." required></textarea>
  <button type="submit">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… âœ…</button>
  <div id="successMsg">âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØªÙ‚ÙŠÙŠÙ…Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø´ÙƒØ±Ù‹Ø§ Ù„Ù…Ø´Ø§Ø±ÙƒØªÙƒ ğŸŒŸ</div>
</form>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbzhb-cCyiVdKYptQseQoN-MD6sivowDvaICZWapiDNOu0Su_PKz6kACTm6YRYhh7Sl_/exec";

const form = document.getElementById('feedbackForm');
const successMsg = document.getElementById('successMsg');

form.addEventListener('submit', e => {
  e.preventDefault();
  fetch(scriptURL, { method: 'POST', body: new FormData(form)})
  .then(() => {
    successMsg.style.display = 'block';
    form.reset();
    setRating(0);
    setTimeout(()=> successMsg.style.display='none', 4000);
  })
  .catch(err => alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ Ø­Ø§ÙˆÙ„ Ù„Ø§Ø­Ù‚Ù‹Ø§'));
});

// â­ Ø§Ù„Ù†Ø¬ÙˆÙ…
function setRating(num) {
  document.getElementById('rating').value = num;
  document.querySelectorAll('.star').forEach((s,i)=>{
    s.classList.toggle('active', i < num);
  });
}

// ğŸŒ™ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„Ù†Ù‡Ø§Ø± ÙˆØ§Ù„Ù„ÙŠÙ„
function toggleDarkMode(){
  document.body.classList.toggle("dark");
}
</script>

</body>
</html>
